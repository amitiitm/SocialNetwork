<?xml version="1.0" encoding="utf-8"?>
<gencomponents:AddEdit xmlns:mx="http://www.adobe.com/2006/mxml"
	height="100%" width="100%" verticalGap="0"
	xmlns:customcomponents="com.generic.customcomponents.*"
	xmlns:gencomponents="com.generic.components.*"
	creationPolicy="all" creationComplete="init()">
	
	<mx:Script source="../scripts/RepairEntryAddEditScript.as"/>
	
	<mx:VBox width="100%" height="100%" verticalGap="4">
			<customcomponents:GenTextInput id="tiId" width="0" height="0"  visible="false" editable="false"
				xmlTag="id" updatableFlag="false" tableName="pos_order" />		
				
			<customcomponents:GenTextInput id="tiWb_trans_id" width="0" height="0"  visible="false" editable="false"
				xmlTag="wb_trans_id" updatableFlag="false" tableName="pos_order" />			
		
		<mx:HBox id="HBoxHeader" width="100%"  horizontalGap="0" verticalGap="0" verticalAlign="top" 
			paddingBottom="0" paddingTop="0">
			
			<mx:VBox verticalGap="3" height="100%" width="100%" >
				<mx:HBox>
					<mx:Label text="Sales Person #" width="95" textAlign="right" height="20" />
					<customcomponents:GenDynamicComboBoxWithHelp id="dcSales_person_code" width="140" toolTip="Sales Person" 
						dataSourceName="Salesperson" dataProvider="{__genModel.lookupObj.salesperson.children()}" labelField="name" dataField="code"
						xmlTag="salesperson_code" updatableFlag="true" tabIndex="1" tableName="pos_order" height="20"
						defaultValue="" validationFlag="true" />
				</mx:HBox>
		 	</mx:VBox>
		 	<mx:VRule height="100%"/>
		
			<mx:VBox verticalGap="3"  height="100%" width="100%" >
				<mx:HBox id="vbCustomer_Info" >
					<mx:Label text="Customer #" width="115" textAlign="right" height="20"/>	
					<customcomponents:GenDynamicComboBoxWithHelp id="dcCustomer_id" width="125" toolTip="Customer #" defaultValue="{__genModel.user.default_customer_id.toString()}"
						dataField="id" labelField="name" 
						dataSourceName="Customer" dataProvider="{__genModel.lookupObj.customer.children()}"
						tabIndex="2"  itemChangedEvent="getCustomerDetails();setCustomerTab()" height="20"  refreshEvent="refreshShip(event)"
						validationFlag="true" xmlTag="customer_id" updatableFlag="true" tableName="pos_order"  />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Customer Ref #" width="115" textAlign="right" height="20"/>
					<customcomponents:GenTextInput id="tiCustomer_ref_no" width="125"  toolTip="Customer Ref #"  tabIndex="3" height="20"
						xmlTag="ext_ref_no" updatableFlag="true" tableName="pos_order"  />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Customer Ref Date " width="115" height="20" textAlign="right"/>
					<customcomponents:GenDateField id="dfCustomer_ref_date" width="125" height="20" xmlTag="ext_ref_date" tabIndex="4" 
						updatableFlag="true" tableName="pos_order" validationFlag="false" toolTip="Trans Date"/>
				</mx:HBox>
			</mx:VBox>
			<mx:VRule height="100%"/>
			
			<mx:VBox verticalGap="3" height="100%" width="100%" >
				<mx:HBox>
					<mx:Label text="Promised Date" width="90" height="20" textAlign="right"/>
					<customcomponents:GenDateField id="dfPromise_Date" width="120"  toolTip="Date Promised"  tabIndex="5"
						xmlTag="promised_date" updatableFlag="true" tableName="pos_order" height="20" />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Terms #" width="90" textAlign="right" height="20" />
					<customcomponents:GenDynamicComboBoxWithHelp id="dcTerm_code" width="120" toolTip="Term #" 
						dataSourceName="Term" dataProvider="{__genModel.lookupObj.term.children()}" labelField="code" dataField="code"
						xmlTag="term_code" updatableFlag="true" tabIndex="6" tableName="pos_order" height="20" 
						defaultValue="" validationFlag="false" />
				</mx:HBox>
				<mx:HBox>						
					<mx:Label text="Ship Via" width="90" textAlign="right" height="20" />
					<customcomponents:GenDynamicComboBoxWithHelp id="dcShipping_code" width="120" 
						tabIndex="7" toolTip="Ship via"  defaultValue="" height="20" 
						dataField="code" labelField="code"
						dataSourceName="Shipping" dataProvider="{__genModel.lookupObj.shipping.children()}"   
						validationFlag="false" xmlTag="shipping_code" updatableFlag="true" tableName="pos_order"  />
				</mx:HBox>
			</mx:VBox>
			
			<mx:VRule height="100%"/>
			
			<mx:VBox width="100%" height="100%" verticalGap="3">
				<mx:HBox width="100%" height="10%" verticalGap="0">						
					<mx:Label text="Repair #" width="95" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiTrans_no" width="71" xmlTag="trans_no" enabled="false" 
						updatableFlag="true"  tableName="pos_order"  height="20" 
						defaultValue="" validationFlag="false" toolTip="Trans #" />
					<customcomponents:GenTextInput id="tiTrans_bk" width="35" height="20" visible="true" enabled="false"
						xmlTag="trans_bk" updatableFlag="false" tableName="pos_order" />
				</mx:HBox>				
				<mx:HBox width="100%" height="10%" verticalGap="0">
					<mx:Label text="Entry Date" width="95" textAlign="right" height="20" />
					<customcomponents:GenDateField id="dfTrans_date" width="116" xmlTag="trans_date"
						updatableFlag="true" tabIndex="7" tableName="pos_order" height="20" 
					 	itemChangedEvent="__localModel.trans_date=dfTrans_date.text;getAccountPeriod()"
					 	validationFlag="false" toolTip="Trans Date"	/>
				</mx:HBox>
				<mx:HBox width="100%" height="10%" verticalGap="0">		
					<mx:Label text="A/C Period #" width="95" textAlign="right" height="20" />
					<customcomponents:GenDynamicComboBoxWithHelp id="dcAccount_period_code" width="116" 
						toolTip="A/c Period Code"  defaultValue="" height="20" enabled="false"  
						dataField="code" labelField="code"
						dataSourceName="AccountPeriod" dataProvider="{__genModel.lookupObj.accountperiod.children()}"
						validationFlag="true" xmlTag="account_period_code" updatableFlag="true" tableName="pos_order"  />
				</mx:HBox>
				<mx:HBox width="100%" height="10%" verticalGap="0">		
					<mx:Label text="Status" width="95" textAlign="right" height="20" />
					<customcomponents:GenComboBox id="cbTrans_flag" defaultValue="A" width="116" cornerRadius="0" xmlTag="trans_flag" updatableFlag="true"
						tableName="pos_order" enabled="false"  labelField="label" height="20" editable="false"
						dataProvider="{__genModel.masterData.child('trans_flag').trans_flag}"
						toolTip="Status" />
				</mx:HBox>
			</mx:VBox>
		</mx:HBox>	
		<mx:Spacer height="2"/>
 		<mx:TabNavigator id="tnDetail" width="100%" height="100%"  >
 			 			<mx:VBox id="hbCustomer" label="Customer" width="100%" height="100%" verticalGap="3" tabIndex="100">
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
						<mx:Label text="Billing Address" width="237" fontSize="10" fontWeight="bold" textAlign="right" visible="true" height="20" />
						<mx:Label text="Shipping Address" width="379" fontSize="10" fontWeight="bold" textAlign="right" visible="true" height="20" />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="First/Last Name" textAlign="right" width="95"/>
					<customcomponents:GenTextInput id="tiBillFirstName" width="121" xmlTag="bill_first_name" updatableFlag="true" toolTip="First Name"
						tableName="pos_order" defaultValue="" tabIndex="101" validationFlag="false" maxChars="50" height="20" itemChangedEvent="tiShipFirstName.text = tiBillFirstName.text"/>
					<customcomponents:GenTextInput id="tiBillLastName" width="120" xmlTag="bill_last_name" updatableFlag="true" toolTip="Last Name"
						tableName="pos_order" defaultValue="" tabIndex="101" validationFlag="false" maxChars="50" height="20" itemChangedEvent="tiShipLastName.text = tiBillLastName.text"/>
				
					<mx:Label text="Ship #" width="154" textAlign="right" height="20" />
					<customcomponents:GenDynamicComboBoxWithHelp id="dcCustomer_shipping_id" width="243" 
						tabIndex="113" toolTip="Ship #"  defaultValue="" height="20" 
						dataField="id" labelField="code" 
						dataSourceName="CustomerShipping" dataProvider="{__genModel.lookupObj.customershipping.children()}"   
						validationFlag="true" xmlTag="customer_shipping_id" updatableFlag="true" tableName="pos_order"
						filterEnabled="true" filterKeyName="customer_id" 
						itemChangedEvent="getShippingAddress();"  />
				
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="Company Name" width="95" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiBill_nm" width="243"  toolTip="Bill Name"  tabIndex="102" height="20"
						xmlTag="bill_name" updatableFlag="true" tableName="pos_order" maxChars="50" />
					
					<mx:Label text="First/Last Name" width="154" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiShipFirstName" width="121" xmlTag="ship_first_name" updatableFlag="true"
						tableName="pos_order" tabIndex="114" maxChars="55" height="20"  />
					<customcomponents:GenTextInput id="tiShipLastName" width="120" xmlTag="ship_last_name" updatableFlag="true"
					tableName="pos_order" tabIndex="114" maxChars="55" height="20"  />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="Bill Address #1" width="95" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiBill_address1" width="243" xmlTag="bill_address1"
						updatableFlag="true" tabIndex="103" tableName="pos_order" height="20" 
						defaultValue="" validationFlag="false" toolTip="Bill Address #1" maxChars="50" />
					<mx:Label text="Ship Name" width="154" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiShip_nm" width="243" xmlTag="ship_name"
						updatableFlag="true" tabIndex="115" tableName="pos_order" height="20"
						defaultValue="" validationFlag="false" toolTip="Ship Name" 
						maxChars="50" />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="#2" width="95" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiBill_address2" width="243" xmlTag="bill_address2"
						updatableFlag="true" tabIndex="104" tableName="pos_order" height="20"
						defaultValue="" validationFlag="false" toolTip="Bill Address #2"
						maxChars="50" />
					<mx:Label text="Shipping Address #1" width="154" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiShip_address1" width="243" xmlTag="ship_address1"
						updatableFlag="true" tabIndex="116" tableName="pos_order" height="20" 
						defaultValue="" validationFlag="false" toolTip="Ship Address #1" maxChars="50" />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="City/State/Zip" width="95" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiBill_city" width="85" xmlTag="bill_city"
						updatableFlag="true" tabIndex="105" tableName="pos_order"
						defaultValue="" validationFlag="false" toolTip="City" height="20"
						maxChars="25" />
					<customcomponents:GenTextInput id="tiBill_state" width="70" xmlTag="bill_state"
						updatableFlag="true" tabIndex="106" tableName="pos_order"
						defaultValue="" validationFlag="false" toolTip="State" height="20" maxChars="25" />
					<customcomponents:GenTextInput id="tiBill_zip" width="84" height="20"  tabIndex="107"
						xmlTag="bill_zip" updatableFlag="true" tableName="pos_order" 
						validationFlag="false" toolTip="Zip" maxChars="25" />	
						
					<mx:Label text="#2" width="154" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiShip_address2" width="243" xmlTag="ship_address2"
						updatableFlag="true" tabIndex="117" tableName="pos_order" 
						defaultValue="" validationFlag="false" toolTip="Ship Address #2" height="20" maxChars="50" />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="Country" width="95" textAlign="right"  height="20" />
					<customcomponents:GenTextInput id="tiBill_country" width="121" xmlTag="bill_country"
						updatableFlag="true" tabIndex="108" tableName="pos_order" height="20"
						defaultValue="" validationFlag="false" toolTip="Country"
						maxChars="20" />
					
					<mx:Label text="City/State/Zip" width="277" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiShip_city" width="85" xmlTag="ship_city"
						updatableFlag="true" tabIndex="118" tableName="pos_order"
						defaultValue="" validationFlag="false" toolTip="City" height="20" maxChars="25" />
						<customcomponents:GenTextInput id="tiShip_state" width="70" xmlTag="ship_state"
						updatableFlag="true" tabIndex="119" tableName="pos_order"
						defaultValue="" validationFlag="false" toolTip="State" height="20"
						maxChars="25" />
					<customcomponents:GenTextInput id="tiShip_zip" width="84" height="20"  maxChars="25" 
						validationFlag="false" toolTip="Zip" tabIndex="120" 
						xmlTag="ship_zip" updatableFlag="true" tableName="pos_order" />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="Phone/Fax" width="95" textAlign="right"  height="20" />
					<customcomponents:GenTextInput id="tiBill_phone1" width="121" xmlTag="bill_phone"
						updatableFlag="true" tabIndex="109" tableName="pos_order"  height="20" itemChangedEvent="tiShip_phone1.text = tiBill_phone1.text"
						defaultValue="" validationFlag="false" toolTip="Phone" maxChars="50" />
					<customcomponents:GenTextInput id="tiBill_fax1" width="120" xmlTag="bill_fax"
						updatableFlag="true" tabIndex="110" tableName="pos_order" itemChangedEvent="tiShip_fax1.text = tiBill_fax1.text"
						defaultValue="" validationFlag="false" toolTip="Fax"  height="20" maxChars="50" />
					<mx:Label text="Country" width="155" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiShip_country" width="121" xmlTag="ship_country"
						updatableFlag="true" tabIndex="121" tableName="pos_order"
						defaultValue="" validationFlag="false" toolTip="Country" height="20" maxChars="20" />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="Cell #" width="95" textAlign="right"/>
					<customcomponents:GenTextInput id="tiBillCell_no" width="121" xmlTag="billing_cell_no" updatableFlag="true"
						tableName="pos_order" defaultValue="" tabIndex="111" maxChars="15" height="20" itemChangedEvent="tiShipCell_no.text = tiBillCell_no.text"/>
				
						
					<mx:Label text="Phone/Fax" width="277" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiShip_phone1" width="121" xmlTag="ship_phone"
						updatableFlag="true" tabIndex="122" tableName="pos_order" 
						defaultValue="" validationFlag="false" toolTip="Phone" height="20" maxChars="50" />
					<customcomponents:GenTextInput id="tiShip_fax1" width="120" xmlTag="ship_fax"
						updatableFlag="true" tabIndex="123" tableName="pos_order" 
						defaultValue="" validationFlag="false" toolTip="Fax" height="20" maxChars="50" />
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="Email" width="95" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiBillEmail" width="243" xmlTag="billing_email" updatableFlag="true"
						tableName="pos_order" defaultValue="" tabIndex="112" maxChars="200" height="20" itemChangedEvent="tiShipEmail.text = tiBillEmail.text"/>
					
					<mx:Label text="Cell #" width="155" textAlign="right"/>
					<customcomponents:GenTextInput id="tiShipCell_no" width="121" xmlTag="shipping_cell_no" updatableFlag="true"
						tableName="pos_order" defaultValue="" tabIndex="124" maxChars="15" height="20"/>
									
				
				</mx:HBox>
				<mx:HBox width="100%" horizontalGap="2" verticalAlign="middle">
					<mx:Label text="Email" width="498" textAlign="right"/>
					<customcomponents:GenTextInput id="tiShipEmail" width="243" xmlTag="shipping_email" updatableFlag="true"
						tableName="pos_order" defaultValue="" tabIndex="125" maxChars="200" height="20" />
				</mx:HBox>
			</mx:VBox>
			
			<mx:HBox id="hbDetail"  height="100%" width="100%" label="Item" tabIndex="15">
			<mx:VBox height="100%" width="100%" verticalGap="4">
				<mx:HBox>
					<mx:Label text="Item #" width="115" textAlign="right"/>
					<customcomponents:GenDynamicComboBoxWithHelp id="dcItemId" width="125" height="20"
						tabIndex="101" toolTip="Item #"  itemChangedEvent="getItemDetails()"
						dataField="id" 
						dataSourceName="Item" dataProvider="{__genModel.lookupObj.item.children()}" labelField="code" 
						validationFlag="true" xmlTag="catalog_item_id" updatableFlag="true" tableName="pos_order" />
				
					<mx:Label text="Packet #" width="105" textAlign="right"/>
					<customcomponents:GenTextInput id="tiCatalog_item_packet_code" width="125" xmlTag="catalog_item_packet_code" updatableFlag="true" tableName="pos_order"
						defaultValue="" maxChars="50" setDefaultOnEmpty="true" tabIndex="102" toolTip="Packet #" height="20" />
				</mx:HBox>
			
				<mx:HBox>
					<mx:Label text="Item Description" width="115" textAlign="right"/>
					<customcomponents:GenTextInput id="tiItemDescription" width="370" height="20" 
						xmlTag="item_detail_description" updatableFlag="true"  maxChars="100" tabIndex="103"
						tableName="pos_order" />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Item Qty" width="115" textAlign="right"/>
					<customcomponents:GenTextInput id="tiItem_qty" width="80" xmlTag="item_qty" height="20"
						updatableFlag="true" tableName="pos_order" tabIndex="104" textAlign="right"
						defaultValue="1" setDefaultOnEmpty="true" dataType="N" maxValue="99999"
						validationFlag="true" toolTip="Item Qty" />
		</mx:HBox>
				<mx:HBox>
					<mx:Label text="Mfg Vendor #" width="115" textAlign="right"/>
					<customcomponents:GenDynamicComboBoxWithHelp id="dcVendor_id" width="125" height="20"
						tabIndex="104" toolTip="Mfg Vendor #" defaultValue="" 
						dataField="id" 
						dataSourceName="Vendor"  dataProvider="{__genModel.lookupObj.vendor.children()}" labelField="code" 
						xmlTag="manufacturer_vendor_id" updatableFlag="true" tableName="pos_order" />
				
					<mx:Label text="Stone Type" width="105" height="20" textAlign="right"/>
					<customcomponents:GenComboBox id="cbStone_type" defaultValue="DIAM" width="100" xmlTag="stone_type" updatableFlag="true" tableName="pos_order"
						 validationFlag="false" toolTip="Stone Type" tabIndex="111" height="20"
						cornerRadius="0" labelField="label" dataProvider="{__genModel.masterData.child('stone_type').stone_type}" />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Mfg Vendor Item #" width="115" textAlign="right"/>
					<customcomponents:GenTextInput id="tiVendor_item_code" width="125" xmlTag="manufacturer_vendor_item_code" updatableFlag="true" tableName="pos_order"
						defaultValue="" maxChars="50" setDefaultOnEmpty="true" tabIndex="105" toolTip="Mfg Vendor Item Name" height="20" />
		
					<mx:Label text="Stone Shape" width="105" height="20" textAlign="right"/>
		    		<customcomponents:GenComboBox id="cbStone_shape" defaultValue="ROUND"  width="100" xmlTag="stone_shape" updatableFlag="true" tableName="pos_order"
						 validationFlag="false" toolTip="Stone Shape" tabIndex="114" height="20"
						cornerRadius="0" labelField="label" dataProvider="{__genModel.masterData.child('stone_shape').stone_shape}" />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Metal Type" width="115" height="20" textAlign="right"/>
		    		<customcomponents:GenComboBox id="cbMetal_type" defaultValue="10KT" width="100" xmlTag="metal_type" updatableFlag="true" tableName="pos_order" 
						 validationFlag="false" toolTip="Metal Type" tabIndex="106" height="20"  
						cornerRadius="0" labelField="label" dataProvider="{__genModel.masterData.child('metal_type').metal_type}"/>
			
					<mx:Label text="Stone Size" width="130" textAlign="right"/>
					<customcomponents:GenTextInput id="tiSize" width="100" xmlTag="stone_size" height="20"
						updatableFlag="true" tableName="pos_order" tabIndex="115" textAlign="right"
						setDefaultOnEmpty="true" dataType="N" maxValue="99999.99"
						validationFlag="false" toolTip="Size" />		
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Metal Color" width="115" height="20" textAlign="right"/>		
					<customcomponents:GenComboBox id="cbMetal_color" defaultValue="W" width="100" xmlTag="metal_color" updatableFlag="true" tableName="pos_order"
						validationFlag="false" toolTip="Metal Color" tabIndex="107" height="20" 
						cornerRadius="0" labelField="label" dataProvider="{__genModel.masterData.child('metal_color').metal_color}"/>
		
					<mx:Label text="Stone Quality" width="130" height="20" textAlign="right"/>
		    		<customcomponents:GenComboBox id="cbDiamond_quality" defaultValue="B1" width="100" xmlTag="stone_quality" updatableFlag="true" tableName="pos_order"
						 validationFlag="false" toolTip="Stone Quality" tabIndex="116" height="20" 
						cornerRadius="0" labelField="label" dataProvider="{__genModel.masterData.child('stone_quality').stone_quality}"/>
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Metal Wt" width="115" textAlign="right"/>
					<customcomponents:GenTextInput id="tiMetal_weight" width="100" xmlTag="metal_weight" height="20"
						updatableFlag="true" tableName="pos_order" tabIndex="108" textAlign="right"
						defaultValue="0.0000" setDefaultOnEmpty="true" dataType="N" maxValue="99999999.9999"
						validationFlag="false" toolTip="Weight" />
			
					<mx:Label text="Stone Color" width="130" height="20" textAlign="right"/>
		  			<customcomponents:GenComboBox id="cbStone_color" defaultValue="D" width="100" xmlTag="stone_color" updatableFlag="true" tableName="pos_order"
						 validationFlag="false" toolTip="Stone Color" tabIndex="117" height="20"
						cornerRadius="0" labelField="label" dataProvider="{__genModel.masterData.child('stone_color').stone_color}" />
	 			</mx:HBox>
				<mx:HBox>
					<mx:Label text="Length" width="115" textAlign="right"/>
					<customcomponents:GenTextInput id="tiLength" width="100" xmlTag="length" height="20"
						updatableFlag="true" tableName="pos_order" tabIndex="109" textAlign="right"
						defaultValue="" setDefaultOnEmpty="true"
						validationFlag="false" toolTip="Length" />
				
					<mx:Label text="Stone Clarity" width="130" height="20" textAlign="right"/>
		  		  <customcomponents:GenComboBox id="cbStone_clarity" defaultValue="SI1" width="100" xmlTag="stone_clarity" updatableFlag="true" tableName="pos_order"
					 validationFlag="false" toolTip="Clarity From" tabIndex="118" height="20"
					cornerRadius="0" labelField="label" dataProvider="{__genModel.masterData.child('stone_clarity').stone_clarity}" />
				</mx:HBox>	
				<mx:HBox>
					<mx:Label text="Finish" width="115" textAlign="right"/>
					<customcomponents:GenTextInput id="tiFinish" width="100" xmlTag="finish" height="20"
						updatableFlag="true" tableName="pos_order" tabIndex="110" textAlign="right"
						setDefaultOnEmpty="true" 
						validationFlag="false" toolTip="Size" />
			
					<mx:Label text="Stone Setting" width="130" height="20" textAlign="right"/>
				    <customcomponents:GenComboBox id="cbStone_setting" defaultValue="NA" width="100" cornerRadius="0" xmlTag="stone_setting" updatableFlag="true"
						tableName="pos_order"  tabIndex="119" labelField="label" height="20" 
						dataProvider="{__genModel.masterData.child('stone_setting').stone_setting}" />
	   			</mx:HBox>
	   			<mx:HBox visible="false" height="0" width="0">	
					<mx:Label text="Lot #" width="0" textAlign="right" height="0" visible="false" />
					<customcomponents:GenDynamicComboBoxWithHelp id="dcStone_lot_id" width="0" height="0"
						 toolTip="Lot #" defaultValue="" visible="false"
						dataField="id" itemChangedEvent="getLotsDetails()"
						dataSourceName="DiamondLot" dataProvider="{__genModel.lookupObj.diamondlot.children()}" labelField="code" 
						validationFlag="false" xmlTag="stone_lot_id" updatableFlag="true" tableName="pos_order"  />
			
					<mx:Label text="Certificate #" width="0" height="0"  visible="false" textAlign="right"/>
					<customcomponents:GenTextInput id="tiStone_packet_code" width="0" height="0" visible="false" 
						 toolTip="Certificate #" defaultValue="" itemChangedEvent="getStonePacketDetails()"
						xmlTag="stone_packet_code" updatableFlag="true" tableName="pos_order" maxChars="25" />
			</mx:HBox>
			</mx:VBox>
			<mx:VBox height="100%" width="200" verticalGap="5">
				<mx:HBox width="142" height="115">
				<mx:Spacer width="20"/>
					<mx:Image id="itemImage" 
						width="100%"
						height="100%" 
						verticalAlign="middle" 
						horizontalAlign="center" 
						source="{__genModel.path.image}{tiImage_thumnail.text}"/>
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Stone Qty" width="83" textAlign="right"/>
					<customcomponents:GenTextInput id="tiStone_qty" width="100" xmlTag="stone_qty" height="20"
						updatableFlag="true" tableName="pos_order" tabIndex="120" textAlign="right"
						defaultValue="0" setDefaultOnEmpty="true" dataType="N" maxValue="99999"
						validationFlag="false" toolTip="Stone Qty" />
				</mx:HBox>
				<mx:HBox>	
					<mx:Label text="Stone Wt" width="83" textAlign="right"/>
					<customcomponents:GenTextInput id="tiStone_weight" width="100" xmlTag="stone_weight" height="20"
						updatableFlag="true" tableName="pos_order" tabIndex="121" textAlign="right"
						defaultValue="0.0000" setDefaultOnEmpty="true" dataType="N" maxValue="99999999.9999"
						validationFlag="false" toolTip="Stone Weight" />	
	  		 	</mx:HBox>
					<customcomponents:GenTextInput id="tiImage_thumnail" width="0" height="0" visible="false"
						editable="false" enabled="true" xmlTag="image_thumnail" updatableFlag="true"
						tableName="pos_order" defaultValue="" />
			</mx:VBox>
			<mx:VBox height="100%" width="100%" verticalGap="5">
				<mx:HBox>
					 <mx:Label text="Purchase Store #" width="100" textAlign="right" height="20" />
				    <customcomponents:GenDynamicComboBoxWithHelp id="dcPurchaseStoreId" width="110" height="20" 
						toolTip="Purchase Store #" defaultValue="{__genModel.user.default_company_id.toString()}"  
						dataField="id" tabIndex="123"
						dataSourceName="CompanyStore" dataProvider="{__genModel.lookupObj.companystore.children()}" labelField="code" 
						validationFlag="false" xmlTag="purchased_store_code" updatableFlag="true" tableName="pos_order"  />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Approx Value" width="100" textAlign="right"/>
					<customcomponents:GenTextInput id="tiApproxValue" width="110" textAlign="right" tabIndex="124"
						xmlTag="approx_value" updatableFlag="true" tableName="pos_order" defaultValue="0.00" 
						dataType="N" rounding="true" setDefaultOnEmpty="true" maxValue = "9999999999.99" height="20"
						validationFlag = "false" toolTip="Approx Amount" />
						
					<mx:Spacer width="50"/>
					<customcomponents:GenButton id="btnCreateWorkbag"	fontWeight="normal" label="Create Workbag"  width="85"  height="18"  cornerRadius="0"  tabIndex="132"
						click="btnCreateWorkbagClickHandler()" textAlign="center"
						icon="@Embed('com/generic/assets/Create_Workbag.png')"/>
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Approx Age" width="100" textAlign="right"/>
					<customcomponents:GenTextInput id="tiApproxAge" width="110" textAlign="right" tabIndex="125"
						xmlTag="approx_age" updatableFlag="true" tableName="pos_order" defaultValue="0.00" 
						dataType="N" rounding="true" setDefaultOnEmpty="true" maxValue = "9999999999.99" height="20"
						validationFlag = "false" toolTip="Approx Age" />
						
					<mx:Spacer width="50"/>
					<customcomponents:GenButton id="btnPrintWorkbag" 	fontWeight="normal"  label="Print Workbag" width="85"  height="18"  cornerRadius="0" tabIndex="133"
						click="btnPrintWorkbagClickHandler()" textAlign="center"
						icon="@Embed('com/generic/assets/print_workbag.png')"/>
				</mx:HBox>	
				<mx:Spacer height="20"/>
				<mx:HBox>	
					<mx:Label text="WB # " width="280" textAlign="right" height="20" />
					<customcomponents:GenTextInput id="tiWb_trans_no" width="75" xmlTag="wb_trans_no" enabled="false" 
						updatableFlag="true"  tableName="pos_order" height="20" 
						defaultValue="" validationFlag="false" toolTip="WB Trans #"/>
						
		  		  <customcomponents:GenTextInput id="tiWb_trans_bk" width="36" xmlTag="wb_trans_bk" enabled="false" 
					updatableFlag="true" tableName="pos_order" height="20" 
					defaultValue="" validationFlag="false" toolTip="WB Trans Bk"/>
			</mx:HBox>
			<mx:HBox>
				<mx:Label text="WB Date " width="280" height="20" textAlign="right"/>
				<customcomponents:GenDateField id="dfWb_trans_date" width="120" height="20" xmlTag="wb_trans_date" 
					updatableFlag="true" tableName="pos_order" validationFlag="false" toolTip="WB Trans Date"	enabled="false"		/>
			</mx:HBox>
			</mx:VBox>
			</mx:HBox>
			<mx:HBox id="hbHeader" label="Repair Detail" width="100%" height="100%" verticalGap="3" tabIndex="20">
 			<mx:VBox>
 				<mx:HBox>
					<mx:VBox verticalGap="0">
						<mx:Label text="Customer Description" width="135"  textAlign="right"/>
						<mx:Label text="(For Customer Receipt)" width="135" fontSize="8" textAlign="right"/>
					</mx:VBox>
					<customcomponents:GenTextArea id="tiItem_description" width="360" height="50" 
						xmlTag="customer_description" updatableFlag="true"  maxChars="255" tabIndex="101"
						tableName="pos_order" />
				</mx:HBox>
				<mx:Spacer height="20"/>
				<mx:HBox>
					<mx:VBox verticalGap="0">
						<mx:Label text="Detail Item Description" width="135" textAlign="right"/>
						<mx:Label text="(For Internal Use)" width="135" textAlign="right" fontSize="8"/>	
					</mx:VBox>
					<customcomponents:GenTextArea id="tiDetailItemDescription" width="360" height="50" 
						xmlTag="internal_description" updatableFlag="true"  maxChars="255" tabIndex="102"
						tableName="pos_order" />
				</mx:HBox>
 			</mx:VBox>
 			<mx:VBox>
 				<mx:HBox>
					<mx:Label text="Estimate Date" width="250" height="20" textAlign="right"/>
					<customcomponents:GenDateField id="dfEstimate_Date" width="120"  toolTip="Estimate Date"  tabIndex="103"
						xmlTag="estimated_date" updatableFlag="true" tableName="pos_order" height="20" />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Estimate Amount" width="250" textAlign="right"/>
					<customcomponents:GenTextInput id="tiEstimateAmt" width="120" textAlign="right" tabIndex="104"
						xmlTag="estimated_amt" updatableFlag="true" tableName="pos_order" defaultValue="0.00" 
						dataType="N" rounding="true" setDefaultOnEmpty="true" maxValue = "9999999999.99" height="20"
						validationFlag = "false" toolTip="Estimate Amount" enabled="false"/>
				</mx:HBox>	
				<mx:Spacer height="3"/>
				<mx:HBox>
					<mx:Label text="Actual Amount" width="250" textAlign="right"/>
					<customcomponents:GenTextInput id="tiActualAmt" width="120" textAlign="right" tabIndex="105"
						xmlTag="" updatableFlag="false" tableName="pos_order" defaultValue="0.00" text="{tiNet_amt.text}"
						dataType="N" rounding="true" setDefaultOnEmpty="true" maxValue = "9999999999.99" height="20"
						validationFlag = "false" toolTip="Actual Amount" enabled="false"/>
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Deposit Amount" width="250" textAlign="right"/>
					<customcomponents:GenTextInput id="tiDepositAmt" width="120" textAlign="right" tabIndex="106" change="setBalanceAmount()"
						xmlTag="" updatableFlag="false" tableName="pos_order" defaultValue="0.00" text="{tiDeposit_amt.text}"
						dataType="N" rounding="true" setDefaultOnEmpty="true" maxValue = "9999999999.99" height="20"
						validationFlag = "false" toolTip="Deposit Amount" />
				</mx:HBox>
				<mx:HBox>
					<mx:Label text="Due Amount" width="250" textAlign="right"/>
					<customcomponents:GenTextInput id="tiDueAmt" width="120" textAlign="right" tabIndex="107"
						xmlTag="" updatableFlag="false" tableName="pos_order" defaultValue="0.00" text="{tiBalanced_amt.text}"
						dataType="N" rounding="true" setDefaultOnEmpty="true" maxValue = "9999999999.99" height="20"
						validationFlag = "false" toolTip="Due Amount" enabled="false"/>
				</mx:HBox>
 			</mx:VBox>
 			</mx:HBox>
 			

			<mx:VBox id="hbTask" label="Repair Estimate" width="100%" height="100%" tabIndex="20">
					<mx:HBox id="hbEstimateDetail" label="Repair Estimate" width="100%" height="100%" horizontalAlign="center" fontSize="10">
						<gencomponents:Detail id="dtlEstimateLine"
							updatableFlag="true"
							checkBlankRowColumn=""
							rootNode="pos_order_estimates"
							formatServiceID="EstimateDetailFormat"
							height="100%" width="100%"
							DetailEditClass="{pos.repairentry.components.RepairEstimateDetail}"
							detailAddEditComplete="calculateEstimateTotalAmt();calculatePricing()"
							detailRemoveRow="calculateEstimateTotalAmt() ;calculatePricing()"
							title="Repair Estimate"
						/>
					</mx:HBox>
					<mx:Spacer height="10"/>
					<mx:HBox paddingBottom="5" width="100%">
						<mx:Label text="Total Amount"  textAlign="right" width="100%"/>
						<customcomponents:GenTextInput id="tiTotalEstimateAmt" width="110" height="20" visible="true"
							xmlTag="" updatableFlag="false" tabIndex="7"
							tableName="pos_order_estimate" defaultValue="0.00"  toolTip="Total Amount" setDefaultOnEmpty="true" 
							textAlign="right" dataType="N" maxValue="9999999999.99" enabled="false" />
					</mx:HBox>
			</mx:VBox>
			<mx:VBox id="vbDetail"  height="100%" width="100%" label="Repair Actual" tabIndex="15">
				<mx:HBox id="hbDetail1" label="Repair Actual" width="100%" height="100%" horizontalAlign="center" fontSize="10">
						<customcomponents:GenDataGrid 
							id="dgItems"
							width="100%" 
							height="100%"
							editable="false"
							updatableFlag="false"
							formatServiceID="ActualDetailFormat"
							rootNode="repair_actuals"
						/>
				</mx:HBox>
				<mx:Spacer height="10"/>
				<mx:HBox paddingBottom="5" width="100%">
					<mx:Label text="Total Amount" width="100%" textAlign="right"/>
					<customcomponents:GenTextInput id="tiTotalActualAmt" width="110" height="20" 
						xmlTag="" updatableFlag="false"  setDefaultOnEmpty="true"  enabled="false"
						tableName="pos_order" defaultValue="0.00" toolTip="Total Amt" editable="false"
						textAlign="right" dataType="N" maxValue="9999999999.99" />
				</mx:HBox>
			</mx:VBox>
			<mx:HBox id="vbPrice"  height="100%" width="100%" label="Pricing" tabIndex="15">
				<mx:VBox height="100%" width="110" paddingLeft="7">
					<mx:Label text="Part Total" width="90" textAlign="right"/>
					<customcomponents:GenTextInput id="tiPart_total" width="100" height="20" visible="true"
						xmlTag="part_total_amt" updatableFlag="true"  tabIndex="401" 
						tableName="pos_order" defaultValue="0.00"  toolTip="Part Total" setDefaultOnEmpty="true" 
						textAlign="right" dataType="N" maxValue="999999.99" enabled="false" />
				</mx:VBox>
				<mx:VBox height="100%" width="100">
					<mx:Label text="Labor Total" width="90" textAlign="right"/>
					<customcomponents:GenTextInput id="tiLabor_total" width="100" height="20" visible="true"
						xmlTag="labor_total_amt" updatableFlag="true" tabIndex="402" 
						tableName="pos_order" defaultValue="0.00"  toolTip="Labor Total" setDefaultOnEmpty="true" 
						textAlign="right" dataType="N" maxValue="999999.99" enabled="false"/>
				</mx:VBox>
				<mx:VBox height="100%" width="100%">
					<mx:HBox>
						<mx:Label text="Sub Total" width="168" textAlign="right"/>
						<customcomponents:GenTextInput id="tiItem_amt" width="100" height="20" visible="true"
							xmlTag="item_amt" updatableFlag="true" tabIndex="403"
							tableName="pos_order" defaultValue="0.00"  toolTip="Labor Total" setDefaultOnEmpty="true" 
							textAlign="right" dataType="N" maxValue="999999.99" enabled="false"/>
					</mx:HBox>
					<mx:HBox>
						<mx:Label text="Shipping" width="168" textAlign="right"/>
						<customcomponents:GenTextInput id="tiShipping" width="100" xmlTag="ship_amt"
							updatableFlag="true" tableName="pos_order" height="20"  itemChangedEvent="shipping_amtChange()"
							validationFlag="false" toolTip="Shipping Amt" defaultValue="0.00" setDefaultOnEmpty="true"  
							textAlign="right" dataType="N" maxValue="9999999999.99" tabIndex="404" />
					</mx:HBox>
					<mx:HBox>
						<mx:Label text="Tax %" width="42" textAlign="right" height="20" />
						<customcomponents:GenTextInput id="tiTax_per" width="55" height="20"  itemChangedEvent="tax_perChange()"
							xmlTag="tax_per" updatableFlag="true" tableName="pos_order" tabIndex="405"
							defaultValue="0.000" dataType="N" rounding="false" setDefaultOnEmpty="true" maxValue = "9999.999"  
							toolTip="Tax%" editable="true"  textAlign="right"/>
					
						<mx:Label text="Tax" width="55" textAlign="right"/>
						<customcomponents:GenTextInput id="tiTax_amt" width="100" height="20" itemChangedEvent="tax_amtChange()"
							xmlTag="tax_amt" updatableFlag="true" tableName="pos_order" tabIndex="406"
							dataType="N" rounding="true" setDefaultOnEmpty="true" maxValue = "9999999999.99" defaultValue="0.00" 
							toolTip="Tax" editable="true" textAlign="right" />
					</mx:HBox>
					<mx:HBox>
						<mx:Label text="Disc %" width="42" textAlign="right" height="20" />
			 			<customcomponents:GenTextInput id="tiDiscount_per" width="55" height="20"  toolTip="Disc%"
							xmlTag="discount_per" updatableFlag="true" tableName="pos_order" tabIndex="407"
							defaultValue="0.00" setDefaultOnEmpty="true" textAlign="right" dataType="N" maxValue="9999.99"
							itemChangedEvent="discount_perChange()"/>
				
						<mx:Label text="Discount" width="55" textAlign="right"/>
						<customcomponents:GenTextInput id="tiDiscount_amt" width="100" height="20" visible="true"
							xmlTag="discount_amt" updatableFlag="true" setDefaultOnEmpty="true" 
							tableName="pos_order" defaultValue="0.00" tabIndex="408" toolTip="Discount Amt"
							textAlign="right" dataType="N" maxValue="9999999999.99" itemChangedEvent="discount_amtChange()" />
					</mx:HBox>
					<mx:HBox>
						<mx:Label text="Net Amt" width="168" textAlign="right"/>
						<customcomponents:GenTextInput id="tiNet_amt" width="100" height="20" tabIndex="409"
							xmlTag="net_amt" updatableFlag="true"  setDefaultOnEmpty="true"  enabled="false"
							tableName="pos_order" defaultValue="0.00" toolTip="Grand Total" editable="false"
							textAlign="right" dataType="N" maxValue="9999999999.99" />
					</mx:HBox>	
					<mx:HBox>
						<mx:Label text="Deposit Amt" width="168" textAlign="right"/>
						<customcomponents:GenTextInput id="tiDeposit_amt" width="100" height="20" change="setBalanceAmount()"
							xmlTag="deposit_amt" updatableFlag="true"  setDefaultOnEmpty="true"  tabIndex="410"
							tableName="pos_order" defaultValue="0.00" toolTip="Deposit Amt" text="{tiDepositAmt.text}"
							textAlign="right" dataType="N" maxValue="9999999999.99" />
					</mx:HBox>
					<mx:HBox>
						<mx:Label text="Balanced Amt" width="168" textAlign="right"/>
						<customcomponents:GenTextInput id="tiBalanced_amt" width="100" height="20" 
							xmlTag="balance_amt" updatableFlag="true"  setDefaultOnEmpty="true"  tabIndex="409"
							tableName="pos_order" defaultValue="0.00" toolTip="Balanced Amt" 
							textAlign="right" dataType="N" maxValue="9999999999.99" enabled="false"/>
					</mx:HBox>
				</mx:VBox>
			</mx:HBox>
			<mx:VBox id="vbActivity"  height="100%" width="100%" label="Activity" tabIndex="15">
				<customcomponents:GenDataGrid 
							id="dtlActivityLine"
							width="100%" 
							height="100%"
							editable="false"
							updatableFlag="false"
							formatServiceID="ActivityDetailFormat"
							rootNode="stage_transfer_lines"
					/>	
			</mx:VBox>
		</mx:TabNavigator>
	 </mx:VBox>
	 		<customcomponents:GenTextInput id="tiCatalog_item_packet_id" width="0" xmlTag="catalog_item_packet_id" updatableFlag="true" tableName="pos_order"
				defaultValue="" maxChars="50" setDefaultOnEmpty="true" visible="false" height="0" />
				
			<customcomponents:GenTextInput id="tiCatalog_item_code" width="0" xmlTag="catalog_item_code" updatableFlag="true" tableName="pos_order"
				defaultValue="" maxChars="50" setDefaultOnEmpty="true" visible="false" height="0" includeInLayout="false" text="{dcItemId.dcb.text}"/>
			<customcomponents:GenTextInput id="tiStone_lot_no" width="0" xmlTag="stone_lot_number" updatableFlag="true" tableName="pos_order"
				defaultValue="" maxChars="50" setDefaultOnEmpty="true" visible="false" height="0" includeInLayout="false" />
			<customcomponents:GenTextInput id="tiStone_packet_id" width="0" height="0" 
					defaultValue=""  visible="false"
					xmlTag="stone_packet_id" updatableFlag="true" tableName="pos_order" maxChars="25" />
			<customcomponents:GenTextInput id="tiStore_id" width="0" xmlTag="store_id" updatableFlag="true" tableName="pos_order"
				defaultValue="{__genModel.user.default_company_id.toString()}" maxChars="50" setDefaultOnEmpty="true" visible="false" includeInLayout="false" height="0" />
				
			<customcomponents:GenTextInput id="tiTrans_type" width="0" xmlTag="trans_type" updatableFlag="true" tableName="pos_order"
				defaultValue="R"  setDefaultOnEmpty="true" visible="false" height="0" />
			<customcomponents:GenTextInput id="tiItem_type" width="0" xmlTag="item_type" updatableFlag="true" tableName="pos_order"
				defaultValue="I"  setDefaultOnEmpty="true" visible="false" height="0" />
				
			<customcomponents:GenTextInput id="tiPacket_require_yn" width="0" height="0" visible="false"
				xmlTag="packet_require_yn" updatableFlag="true" tabIndex="0" tableName="pos_order" />
			<customcomponents:GenTextInput id="tiDiamond_cert_flag" width="0" height="0" visible="false"
				xmlTag="diamond_cert_flag" updatableFlag="true" tabIndex="0" tableName="pos_order" />
			
			
</gencomponents:AddEdit>

